<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<script>
    window.addEventListener('DOMContentLoaded', init);

    function init() {
        const articleBody = document.querySelector('.article-body');
        articleBody.style.cssText =
            `
            padding: 0 3.5% !important;
            font-family: -apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Helvetica Neue", HelveticaNeue, YuGothic, "Yu Gothic Medium", "Yu Gothic", Verdana, 'Noto Sans JP', sans-serif !important;
            `;

        // TODO: set breakPoint flexible
        const breakPoint = 620;
        let isPc = window.innerWidth > breakPoint;
        console.log('breakPoint', breakPoint);
        console.log('is PC? ', isPc);
        if (isPc) {
            let divs = document.querySelectorAll('.article-body > div');
            let spans = document.querySelectorAll('.article-body > div > span');
            let strongs = document.querySelectorAll('.article-body > div > strong');
            let links = document.querySelectorAll('.article-body > div > a');

            // resizeFont(divs);
            // resizeFont(spans);
            // resizeFont(strongs);
            // resizeFont(links);
        }
    }

    /**
     * when PC view
     * @param {HTMLCollection}els
     * @return void
    */
    function resizeFont(els) {
        const breakPoint = 620;
        let elements = Array.prototype.slice.call(els);
        elements.forEach(div => {
            let fontSizePx = window.getComputedStyle(div).getPropertyValue('font-size');
            let fontSize = removePx(fontSizePx);
            let fontOnPc = fontSize * 32 / 17;
            div.style.fontSize = `max(${fontSizePx}, ${fontOnPc}px)`;
        })
    }

    /**
    * @param {String}px
    * @return {number}pxNum
    */
    function removePx(px) {
        let isContainPx = px.match(/px$/);
        if (!isContainPx) {
            console.log(px + ' not contain px');
            return;
        }
        let pxNum = parseInt(px.replace('px', ''));
        return pxNum;
    }
</script>